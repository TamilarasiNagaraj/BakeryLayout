<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bakery Website</title>

<!-- Poppins Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="track.css">
</head>
<body>

<!-- ---------- TOP BAR ---------- -->
<div class="top-bar">
    <p>Free Deliver Above<span class="call"> 999</span> </p>
    <p>Get <span class="call">25</span>%Off for first order</p>
   <p class="call call-blink">Call-123-456-789</p>
</div>

<!-- ---------- NAVBAR ---------- -->
<nav class="navbar">

    <!-- Logo -->
   <div class="logo-circle">
    <span>Bakery</span>
</div>

    <!-- Search Box -->
     <div class="search-box">
  <input type="text" id="searchInput" placeholder="Search product">
  <i class="fa fa-search" id="searchIcon"></i>
</div>

     <div class="nav-icons">
        <img src="Images/pexels-cristian-rojas-8446838.png" class="profile-img"  id="profileIcon">
<div class="dropdown" id="dropdownMenu">
          <div class="dropdown-header">My Accounts</div>
          <a href="myprof.html">Personal Information</a>
          <a href="invoice.html">My Order</a>
          <a href="track.html">Tracking Order</a>
          <a href="password.html">Password Manager</a>
          <a href="logout.html">Logout</a>
        </div>
        <i class="fa-regular fa-heart" onclick="window.location.href='whishlist.html'"></i>
        <i class="fa-solid fa-cart-shopping" onclick="window.location.href='buy.html'"></i>
        <i class="fa-regular fa-bell" onclick="window.location.href='home.html'"></i>
    </div>
</nav>

<!-- ---------- MENU LINKS ---------- -->
<div class="menu-links">
    <a href="home.html" >Home</a>
    <a href="shop.html">Shop</a>
    <a href="category.html">Categories</a>
    <a href="gallery.html">Gallery</a>
    <a href="blog.html" >Blog</a>
    <a href="contact.html">Contact us</a>
</div>
<div class="track-container">
  <div class="track-title">Track Your Order</div>
  <h3 style="text-align: left;margin-left: 50px;">Order Status</h3>
  <p>Order Id:#5KD94GJ <span id="trackOrderID"></span></p>
</div>

<!-- STATUS BAR -->
<div class="status-bar">
  <div class="status-steps">
    <div>Order Placed</div>
    <div>Accepted</div>
    <div>In Progress</div>
    <div>On The Way</div>
    <div>Delivered</div>
  </div>

  <div class="progress-line"></div>

   

  <div class="status-dates">
    <div><p id="datePlaced"></p><small>11 AM</small></div>
    <div><p id="dateAccepted"></p><small>11:15 AM</small></div>
    <div><p id="dateInProgress"></p><small>--</small></div>
    <div><p id="dateOnWay"></p><small>--</small></div>
    <div><p id="dateDelivered"></p><small>--</small></div>
  </div>
</div>
<br><br><br>
<!-- PRODUCT BOX -->
<div class="product-box">
  <div class="cake-side">
    <img id="trackCakeImg" src="">
    <span id="trackCakeName"></span>
  </div>
  <div class="delivery-text">Delivery: <span id="sysDate"></span></div>
  <div class="price-top">₹<span id="trackCakePrice"></span></div>
</div>

<footer class="footer">

    <div class="footer-main">

        <!-- Left Logo -->
          <div class="logo-circle1">
    <span>Bakery</span>
</div>
        <!-- Right Side Columns -->
        <div class="footer-right">

            <div class="footer-col">
                <p>Customer service</p>
                <p>My Account</p>
                <p>Checkup</p>
                <p>FAQ</p>
                <p>Return</p>
            </div>

            <div class="footer-col">
                <p>Company</p>
                <p>About us</p>
                <p>Blogs</p>
                <p>Contact us</p>
                <p>Career</p>
            </div>

            <div class="footer-col">
                <p>Our information</p>
                <p>Privacy</p>
                <p>Terms & Condition</p>
                <p>Customer Feed back</p>
            </div>

            <div class="footer-col contact">
                <p>Mobile: 123-456-789</p>
                <p>Email_Bakery@gmail.com</p>
                <p>Address : 12,,north city-001</p>

                <div class="footer-social">
                    <i class="fa-brands fa-whatsapp"></i>
                    <i class="fa-brands fa-facebook"></i>
                    <i class="fa-brands fa-instagram"></i>
                </div>
            </div>

        </div>

    </div>

    <!-- Bottom -->
    <div class="footer-bottom">
        <p>© 2025 Bakery. co. All rights reserved.</p>
        <p><strong>Terms & Conditions | Privacy Policy</strong></p>
    </div>

</footer>
<script>
window.onload = function () {
  let item = JSON.parse(localStorage.getItem("buyNowItem"));

  if (item) {

    let now = new Date();
    let formattedDate = now.getDate() + " " + now.toLocaleString("default",{month:"long"}) + " " + now.getFullYear();

    // calculations
    let subtotal = item.price * item.qty;
    let shipping = subtotal > 999 ? 0 : 50;
    let tax = subtotal * 0.05;
    let coupon = item.coupon || 15;
    let grand = subtotal + shipping + tax - coupon;

    // status future dates
    let inProgressDate = new Date(now.getTime() + 1000);
    let inProgressFormatted = inProgressDate.getDate() + " " + inProgressDate.toLocaleString("default",{month:"long"}) + " " + inProgressDate.getFullYear();

    let onTheWayDate = new Date(inProgressDate);
    onTheWayDate.setDate(inProgressDate.getDate() + 3);
    let onTheWayFormatted = onTheWayDate.getDate() + " " + onTheWayDate.toLocaleString("default",{month:"long"}) + " " + onTheWayDate.getFullYear();

    let deliveredDate = new Date(onTheWayDate);
    deliveredDate.setDate(onTheWayDate.getDate() + 1);
    let deliveredFormatted = deliveredDate.getDate() + " " + deliveredDate.toLocaleString("default",{month:"long"}) + " " + deliveredDate.getFullYear();

    // fill UI
   
    document.getElementById("datePlaced").innerText = formattedDate;
    document.getElementById("dateAccepted").innerText = formattedDate;
    document.getElementById("dateInProgress").innerText = inProgressFormatted;
    document.getElementById("dateOnWay").innerText = onTheWayFormatted;
    document.getElementById("dateDelivered").innerText = deliveredFormatted;

    // cake info
    document.getElementById("trackCakeImg").src = item.img;
    document.getElementById("trackCakeName").innerText = item.title;
    document.getElementById("trackCakePrice").innerText = (item.price * item.qty).toFixed(2);
    document.getElementById("sysDate").innerText = deliveredFormatted;

    // breakdown amounts
    document.getElementById("sumSub").innerText = subtotal.toFixed(2);
    document.getElementById("sumShipping").innerText = shipping.toFixed(2);
    document.getElementById("sumTax").innerText = tax.toFixed(2);
    document.getElementById("sumCoupon").innerText = coupon.toFixed(2);
    document.getElementById("sumTotal").innerText = grand.toFixed(2);

    // fill progress bar based on stage (here Delivered)
    document.getElementById("progress").style.setProperty("--progress", "100%");
    document.getElementById("progress").querySelector("::before");
    document.getElementById("progress").style.width = "100%";
  }
};

const profilePic = document.getElementById("profileIcon");
    const dropdownMenu = document.getElementById("dropdownMenu");

    // Toggle dropdown on profile pic click
    profilePic.addEventListener("click", (e) => {
      e.stopPropagation(); // prevent event bubbling
      dropdownMenu.classList.toggle("active");
    });

    // Close dropdown when clicking anywhere else
    document.addEventListener("click", (e) => {
      if (!dropdownMenu.contains(e.target) && e.target !== profilePic) {
        dropdownMenu.classList.remove("active");
      }
    });
    document.getElementById("searchIcon").addEventListener("click", function () {
  let text = document.getElementById("searchInput").value.trim().toLowerCase();

  if (text === "cake menu section") {
    window.location.href = "shop.html";
  } else if (text === "birthday cake section") {
    window.location.href = "shopcate.html";
  } else if (text === "shop categories") {
    window.location.href = "shopcate.html";
  } else if (text === "cake menu section") {
    window.location.href = "search.html";
  }else if (text === "shopcate.html"){
    window.location.href = "whishlist.html";}
  else {
    alert("No page matched ❗ Try again");
  }
});
</script>


</body>
</html>